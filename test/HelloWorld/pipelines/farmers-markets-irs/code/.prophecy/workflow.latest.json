{
  "metainfo" : {
    "id" : "1/pipelines/farmers-markets-irs",
    "language" : "python",
    "fabricId" : "2",
    "frontEndLanguage" : "sql",
    "mode" : "batch",
    "udfs" : {
      "language" : "python",
      "udfs" : [ ]
    },
    "udafs" : {
      "language" : "python",
      "code" : ""
    },
    "configuration" : {
      "common" : {
        "type" : "record",
        "fields" : [ ]
      },
      "fabrics" : {
        "dev" : {
          "type" : "record",
          "fields" : [ ]
        },
        "test" : {
          "type" : "record",
          "fields" : [ ]
        },
        "Remove" : {
          "type" : "record",
          "fields" : [ ]
        },
        "demos" : {
          "type" : "record",
          "fields" : [ ]
        }
      }
    },
    "sparkConf" : [ ],
    "hadoopConf" : [ ],
    "codeMode" : "sparse",
    "buildSystem" : "maven",
    "externalDependencies" : [ ],
    "isImported" : false,
    "interimMode" : "Full",
    "interimModeEnabled" : true,
    "visualCodeInterimMode" : "Disabled",
    "recordsLimit" : {
      "enabled" : false,
      "value" : 1000
    }
  },
  "connections" : [ {
    "id" : "6Nh4Vt3W076VeEL18hjm7",
    "source" : "Yy6pP8lhFguYKvFwdBPf5$$dJoN3lF8FUG0zZ1lAlyvo",
    "sourcePort" : "spNCjsQL_v_WKeDkteX-8$$NtyM7qBgs4dLr_WdBEFtm",
    "target" : "CcQ378yKaOzliNXblEhYx$$h8weA19Uiih2DyMJtQVt0",
    "targetPort" : "xmelSzkbtvAQTQAgE8ves$$TTsxKQLXXu-S7xopECZ8f"
  }, {
    "id" : "mg-G3AY9ToCUhThVvg3LR",
    "source" : "_GiFXBzO_NnB4iIsyRM0T$$V8hemfRGNZuQVK4vHELdK",
    "sourcePort" : "ASJRyxNpCf6bMQdv5RZh1$$s58ROYh4qPn1zeTNghc6q",
    "target" : "o_h6QmybDViEGHIl_GLLl$$Or8rmF-HQzR4TQ41tumhi",
    "targetPort" : "hRsQ50JsiBzTxVhh2HcPZ$$P551Ei6JQ5G0Zs-TmHrMs"
  }, {
    "id" : "OlOea8egcsomOcr4mgY9N",
    "source" : "o_h6QmybDViEGHIl_GLLl$$Or8rmF-HQzR4TQ41tumhi",
    "sourcePort" : "kksS4Aa-ayGPDHDuxRuX0$$ad46_07bFpgpN_HSxYK-X",
    "target" : "laIUhbgfHRY4993gFVzxO$$rjdQWJBSZSvG8O7PO4z43",
    "targetPort" : "M4BRAyG0x_QkLexDMANdM$$U4Jk3zG9je89J1o_DoATZ"
  }, {
    "id" : "Fw7f9pCL60TiQQFkjqS-P",
    "source" : "laIUhbgfHRY4993gFVzxO$$rjdQWJBSZSvG8O7PO4z43",
    "sourcePort" : "JZjN2uMvQUkmdy3I3Qgx2$$cidAqs52QviakS9eXCS14",
    "target" : "U6sOJd3ZLPhkDMscdkEyC$$dHjqcmZiI3oRb8eSkkP6k",
    "targetPort" : "QtTY0Lw2C4asCAxxYbIER$$adyVBeSfHwDP5y9YP5hJP"
  }, {
    "id" : "ovG57v-8CSexZtvf0dIdm",
    "source" : "U6sOJd3ZLPhkDMscdkEyC$$dHjqcmZiI3oRb8eSkkP6k",
    "sourcePort" : "zj_ZXlioeN1kavCPYgwXm$$gIYktMtpvyPrffpXKxNOG",
    "target" : "UYOAW30-drlNFNzQZoFLq$$bEE6I_2R-fJpVvpZrifPm",
    "targetPort" : "RJayMoCenl_ekaVMTlKoO$$yaM7pQA3AQg5NfrWSDTUV"
  }, {
    "id" : "ewljdhty8-1pnbHymFuYl",
    "source" : "CcQ378yKaOzliNXblEhYx$$h8weA19Uiih2DyMJtQVt0",
    "sourcePort" : "HAUtAbwgu7kkpEiW6hsMH$$5-M_mLQUTKvwGUpZ5Ge1f",
    "target" : "r0kwOWwgxUBGJlPYvNjKc$$fgT-0yCKnYPehJ6DyA5jk",
    "targetPort" : "8K8inF5ISNwEezx4nHG3U$$nADsbJ4YvJLMALnd6NTNx"
  }, {
    "id" : "xc-dxFn7Ox82zfmeYy7LG",
    "source" : "r0kwOWwgxUBGJlPYvNjKc$$fgT-0yCKnYPehJ6DyA5jk",
    "sourcePort" : "WJ8djYwlCn_nFO4dchCx6$$OmUQ0T46bPCPes5G9kyH2",
    "target" : "givGNTH6ffHG5L15FuL-H$$hU5yLu8wjG5_BVK-y1v_v",
    "targetPort" : "0PzZXtCLnm_SGiF_p-71U$$z9bc0uiM0-G_CKxKN9R-M"
  }, {
    "id" : "486D1r0otJv4fxD_Rl0m5",
    "source" : "UYOAW30-drlNFNzQZoFLq$$bEE6I_2R-fJpVvpZrifPm",
    "sourcePort" : "a6aHEUiPNNWGDwgBHyTis$$beuGcJ8zc3Enl_qYOteKn",
    "target" : "givGNTH6ffHG5L15FuL-H$$hU5yLu8wjG5_BVK-y1v_v",
    "targetPort" : "fHekXRNYqiBvwZhB-tdI2$$Gqb9jitmewtEWa9XnoOXf"
  }, {
    "id" : "ASnbAntfiadL7MDdS2AZc",
    "source" : "givGNTH6ffHG5L15FuL-H$$hU5yLu8wjG5_BVK-y1v_v",
    "sourcePort" : "xXdpqCwZV8SOFe-aw0-J_$$RV06lKGKPdssTeBHQy0dK",
    "target" : "tIhfAxJQB-pcVv4ldPaJv$$1k8MYOiRHQflvTcwtnu3p",
    "targetPort" : "jqRI526NuVpWsZleJiHVn$$mn9kTTpOdJt61fbtpfd2q"
  }, {
    "id" : "-7lPw56AI_AbvvDFVG1uu",
    "source" : "tIhfAxJQB-pcVv4ldPaJv$$1k8MYOiRHQflvTcwtnu3p",
    "sourcePort" : "KCf8jTUDGpXz3xhTFT5MO$$uH0slAcMWZEGabWUCyuHD",
    "target" : "k3nS0ZBEay-SmGyF0RmoE$$AMu4m57ehEbplpVu-PO06",
    "targetPort" : "mX-kp-OS9L2Ff_l7E_AgM$$7gCFz_9paDB1Oe_LiYsU9"
  }, {
    "id" : "qRopCFEOwFYxAFUjEKMkT",
    "source" : "k3nS0ZBEay-SmGyF0RmoE$$AMu4m57ehEbplpVu-PO06",
    "sourcePort" : "vO-kuDr8MAOc8IzDz-5qz$$9noHND5LaYS6NOjlWjjMo",
    "target" : "0A-uX-CfOhxXbeoBftZ0_$$CjwNS5iAq16iMcTuMFy6u",
    "targetPort" : "JEALQcZzV9QqpqzccZKAe$$BbB2e0xt2QPi7zcgtZJ_4"
  }, {
    "id" : "cznK7yLfHLfLsAVq70_cw",
    "source" : "0A-uX-CfOhxXbeoBftZ0_$$CjwNS5iAq16iMcTuMFy6u",
    "sourcePort" : "QW_Hp0hCCtUnvYH2LA1ct$$CCcB38IFxi8-Tzir7rU9u",
    "target" : "YOshD4mtpOAEVKQ_5aUM9$$gviJQ8S1mAPMeu6b1Z6it",
    "targetPort" : "hAgHzSxeZVA-6z0nUi2TC$$MAVlPEYPua3sR98BoqRHt"
  }, {
    "id" : "V-T54ii8rguYZIBZOplOl",
    "source" : "YOshD4mtpOAEVKQ_5aUM9$$gviJQ8S1mAPMeu6b1Z6it",
    "sourcePort" : "N9w_9ScxoNdujm8r2h8tN$$Yg-6apRdEmAFHlJXNitZR",
    "target" : "FL7963gCpiitSwd5hsEPI$$hzdWXz0hQ4uGZZFhrX7u1",
    "targetPort" : "9B4mXNEy69bZPU-Dkx3_V$$me9a6GMPRf0GaE3ZBLTZ4"
  } ],
  "processes" : {
    "FL7963gCpiitSwd5hsEPI$$hzdWXz0hQ4uGZZFhrX7u1" : {
      "id" : "FL7963gCpiitSwd5hsEPI$$hzdWXz0hQ4uGZZFhrX7u1",
      "component" : "Target",
      "metadata" : {
        "label" : "farmers_market_tax_report",
        "slug" : "farmers_market_tax_report",
        "x" : 2146.6000064282753,
        "y" : 217.7666666666667,
        "language" : "python",
        "phase" : 0,
        "cache" : false,
        "detailedStats" : false,
        "isImported" : false
      },
      "ports" : {
        "inputs" : [ {
          "id" : "9B4mXNEy69bZPU-Dkx3_V$$me9a6GMPRf0GaE3ZBLTZ4",
          "slug" : "in0"
        } ],
        "outputs" : [ ],
        "selectedInputFields" : [ ],
        "isCustomOutputSchema" : false
      },
      "properties" : {
        "datasetId" : "datasets/farmers_market_tax_report"
      }
    },
    "U6sOJd3ZLPhkDMscdkEyC$$dHjqcmZiI3oRb8eSkkP6k" : {
      "id" : "U6sOJd3ZLPhkDMscdkEyC$$dHjqcmZiI3oRb8eSkkP6k",
      "component" : "Aggregate",
      "metadata" : {
        "label" : "SumIncomeBracketsByZip",
        "slug" : "SumIncomeBracketsByZip",
        "x" : 720.000506585495,
        "y" : 320,
        "language" : "python",
        "phase" : 0,
        "cache" : false,
        "detailedStats" : false,
        "isImported" : false
      },
      "ports" : {
        "inputs" : [ {
          "id" : "QtTY0Lw2C4asCAxxYbIER$$adyVBeSfHwDP5y9YP5hJP",
          "slug" : "in0"
        } ],
        "outputs" : [ {
          "id" : "zj_ZXlioeN1kavCPYgwXm$$gIYktMtpvyPrffpXKxNOG",
          "slug" : "out"
        } ],
        "selectedInputFields" : [ ],
        "isCustomOutputSchema" : false
      },
      "properties" : {
        "allIns" : false,
        "doPivot" : false,
        "aggregate" : [ {
          "target" : "high_income_returns",
          "expression" : {
            "format" : "sql",
            "expression" : "sum(if(income_bracket = 6, num_returns, 0))"
          },
          "description" : "",
          "_row_id" : null
        }, {
          "target" : "low_income_returns",
          "expression" : {
            "format" : "sql",
            "expression" : "sum(if(income_bracket < 6, num_returns, 0))"
          },
          "description" : "",
          "_row_id" : ""
        }, {
          "target" : "all_returns",
          "expression" : {
            "format" : "sql",
            "expression" : "sum(num_returns)"
          },
          "description" : "",
          "_row_id" : ""
        } ],
        "pivotColumn" : null,
        "pivotValues" : [ ],
        "activeTab" : "aggregate",
        "columnsSelector" : [ "QtTY0Lw2C4asCAxxYbIER$$adyVBeSfHwDP5y9YP5hJP##income_bracket", "QtTY0Lw2C4asCAxxYbIER$$adyVBeSfHwDP5y9YP5hJP##num_returns", "QtTY0Lw2C4asCAxxYbIER$$adyVBeSfHwDP5y9YP5hJP##zipcode" ],
        "groupBy" : [ {
          "target" : "zipcode",
          "expression" : {
            "format" : "sql",
            "expression" : "zipcode"
          },
          "description" : "",
          "_row_id" : null
        } ]
      }
    },
    "laIUhbgfHRY4993gFVzxO$$rjdQWJBSZSvG8O7PO4z43" : {
      "id" : "laIUhbgfHRY4993gFVzxO$$rjdQWJBSZSvG8O7PO4z43",
      "component" : "Reformat",
      "metadata" : {
        "label" : "CastDataTypes",
        "slug" : "CastDataTypes",
        "x" : 520.000423790741,
        "y" : 320,
        "language" : "python",
        "phase" : 0,
        "cache" : false,
        "detailedStats" : false,
        "isImported" : false
      },
      "ports" : {
        "inputs" : [ {
          "id" : "M4BRAyG0x_QkLexDMANdM$$U4Jk3zG9je89J1o_DoATZ",
          "slug" : "in0"
        } ],
        "outputs" : [ {
          "id" : "JZjN2uMvQUkmdy3I3Qgx2$$cidAqs52QviakS9eXCS14",
          "slug" : "out"
        } ],
        "selectedInputFields" : [ ],
        "isCustomOutputSchema" : false
      },
      "properties" : {
        "columnsSelector" : [ "M4BRAyG0x_QkLexDMANdM$$U4Jk3zG9je89J1o_DoATZ##N1", "M4BRAyG0x_QkLexDMANdM$$U4Jk3zG9je89J1o_DoATZ##agi_stub", "M4BRAyG0x_QkLexDMANdM$$U4Jk3zG9je89J1o_DoATZ##zipcode" ],
        "expressions" : [ {
          "target" : "zipcode",
          "expression" : {
            "format" : "sql",
            "expression" : "zipcode"
          },
          "description" : ""
        }, {
          "target" : "income_bracket",
          "expression" : {
            "format" : "sql",
            "expression" : "cast(agi_stub as int)"
          },
          "description" : ""
        }, {
          "target" : "num_returns",
          "expression" : {
            "format" : "sql",
            "expression" : "cast(N1 as int)"
          },
          "description" : ""
        } ]
      }
    },
    "Yy6pP8lhFguYKvFwdBPf5$$dJoN3lF8FUG0zZ1lAlyvo" : {
      "id" : "Yy6pP8lhFguYKvFwdBPf5$$dJoN3lF8FUG0zZ1lAlyvo",
      "component" : "Source",
      "metadata" : {
        "label" : "FarmersMarketsSource",
        "slug" : "FarmersMarketsSource",
        "x" : 520.0007580950482,
        "y" : 120,
        "language" : "python",
        "phase" : 0,
        "cache" : false,
        "detailedStats" : false,
        "isImported" : false
      },
      "ports" : {
        "inputs" : [ ],
        "outputs" : [ {
          "id" : "spNCjsQL_v_WKeDkteX-8$$NtyM7qBgs4dLr_WdBEFtm",
          "slug" : "out"
        } ],
        "selectedInputFields" : [ ],
        "isCustomOutputSchema" : false
      },
      "properties" : {
        "datasetId" : "datasets/farmers-markets"
      }
    },
    "givGNTH6ffHG5L15FuL-H$$hU5yLu8wjG5_BVK-y1v_v" : {
      "id" : "givGNTH6ffHG5L15FuL-H$$hU5yLu8wjG5_BVK-y1v_v",
      "component" : "Join",
      "metadata" : {
        "label" : "JoinFarmersMarketsAndIncome",
        "slug" : "JoinFarmersMarketsAndIncome",
        "x" : 1120.0009668674888,
        "y" : 220,
        "language" : "python",
        "phase" : 0,
        "cache" : false,
        "detailedStats" : false,
        "isImported" : false
      },
      "ports" : {
        "inputs" : [ {
          "id" : "0PzZXtCLnm_SGiF_p-71U$$z9bc0uiM0-G_CKxKN9R-M",
          "slug" : "farmers_markets"
        }, {
          "id" : "fHekXRNYqiBvwZhB-tdI2$$Gqb9jitmewtEWa9XnoOXf",
          "slug" : "tax_data"
        } ],
        "outputs" : [ {
          "id" : "xXdpqCwZV8SOFe-aw0-J_$$RV06lKGKPdssTeBHQy0dK",
          "slug" : "out"
        } ],
        "selectedInputFields" : [ ],
        "isCustomOutputSchema" : false
      },
      "properties" : {
        "conditions" : [ {
          "alias" : "tax_data",
          "expression" : {
            "format" : "sql",
            "expression" : "farmers_markets.zip = tax_data.zipcode"
          },
          "joinType" : "right_outer"
        } ],
        "expressions" : [ ],
        "allIn1" : false,
        "activeTab" : "conditions",
        "columnsSelector" : [ "fHekXRNYqiBvwZhB-tdI2$$Gqb9jitmewtEWa9XnoOXf##zipcode", "0PzZXtCLnm_SGiF_p-71U$$z9bc0uiM0-G_CKxKN9R-M##zip" ],
        "allIn0" : false,
        "whereClause" : null,
        "headAlias" : "farmers_markets"
      }
    },
    "o_h6QmybDViEGHIl_GLLl$$Or8rmF-HQzR4TQ41tumhi" : {
      "id" : "o_h6QmybDViEGHIl_GLLl$$Or8rmF-HQzR4TQ41tumhi",
      "component" : "Filter",
      "metadata" : {
        "label" : "FilterOutBadZips",
        "slug" : "FilterOutBadZips",
        "x" : 320.0009034764557,
        "y" : 320,
        "language" : "python",
        "phase" : 0,
        "cache" : false,
        "detailedStats" : false,
        "isImported" : false
      },
      "ports" : {
        "inputs" : [ {
          "id" : "hRsQ50JsiBzTxVhh2HcPZ$$P551Ei6JQ5G0Zs-TmHrMs",
          "slug" : "in0"
        } ],
        "outputs" : [ {
          "id" : "kksS4Aa-ayGPDHDuxRuX0$$ad46_07bFpgpN_HSxYK-X",
          "slug" : "out"
        } ],
        "selectedInputFields" : [ ],
        "isCustomOutputSchema" : false
      },
      "properties" : {
        "columnsSelector" : [ "hRsQ50JsiBzTxVhh2HcPZ$$P551Ei6JQ5G0Zs-TmHrMs##zipcode" ],
        "condition" : {
          "format" : "sql",
          "expression" : "zipcode != '00000' and zipcode != '99999' and zipcode is not null"
        }
      }
    },
    "CcQ378yKaOzliNXblEhYx$$h8weA19Uiih2DyMJtQVt0" : {
      "id" : "CcQ378yKaOzliNXblEhYx$$h8weA19Uiih2DyMJtQVt0",
      "component" : "Filter",
      "metadata" : {
        "label" : "FilterOutNullZips",
        "slug" : "FilterOutNullZips",
        "x" : 720.000362399852,
        "y" : 120,
        "language" : "python",
        "phase" : 0,
        "cache" : false,
        "detailedStats" : false,
        "isImported" : false
      },
      "ports" : {
        "inputs" : [ {
          "id" : "xmelSzkbtvAQTQAgE8ves$$TTsxKQLXXu-S7xopECZ8f",
          "slug" : "in0"
        } ],
        "outputs" : [ {
          "id" : "HAUtAbwgu7kkpEiW6hsMH$$5-M_mLQUTKvwGUpZ5Ge1f",
          "slug" : "out"
        } ],
        "selectedInputFields" : [ ],
        "isCustomOutputSchema" : false
      },
      "properties" : {
        "columnsSelector" : [ "xmelSzkbtvAQTQAgE8ves$$TTsxKQLXXu-S7xopECZ8f##zip" ],
        "condition" : {
          "format" : "sql",
          "expression" : "zip is not null"
        }
      }
    },
    "0A-uX-CfOhxXbeoBftZ0_$$CjwNS5iAq16iMcTuMFy6u" : {
      "id" : "0A-uX-CfOhxXbeoBftZ0_$$CjwNS5iAq16iMcTuMFy6u",
      "component" : "Reformat",
      "metadata" : {
        "label" : "SumCases",
        "slug" : "SumCases",
        "x" : 1720.0006449096345,
        "y" : 220,
        "language" : "python",
        "phase" : 0,
        "cache" : false,
        "detailedStats" : false,
        "isImported" : false
      },
      "ports" : {
        "inputs" : [ {
          "id" : "JEALQcZzV9QqpqzccZKAe$$BbB2e0xt2QPi7zcgtZJ_4",
          "slug" : "in0"
        } ],
        "outputs" : [ {
          "id" : "QW_Hp0hCCtUnvYH2LA1ct$$CCcB38IFxi8-Tzir7rU9u",
          "slug" : "out"
        } ],
        "selectedInputFields" : [ ],
        "isCustomOutputSchema" : false
      },
      "properties" : {
        "columnsSelector" : [ "JEALQcZzV9QqpqzccZKAe$$BbB2e0xt2QPi7zcgtZJ_4##no_fm_low_income", "JEALQcZzV9QqpqzccZKAe$$BbB2e0xt2QPi7zcgtZJ_4##no_fm_high_income", "JEALQcZzV9QqpqzccZKAe$$BbB2e0xt2QPi7zcgtZJ_4##has_fm_low_income", "JEALQcZzV9QqpqzccZKAe$$BbB2e0xt2QPi7zcgtZJ_4##has_fm", "JEALQcZzV9QqpqzccZKAe$$BbB2e0xt2QPi7zcgtZJ_4##has_fm_high_income" ],
        "expressions" : [ {
          "target" : "has_fm_high_income",
          "expression" : {
            "format" : "sql",
            "expression" : "sum(if(has_fm_high_income, 1, 0))"
          },
          "description" : ""
        }, {
          "target" : "has_fm_low_income",
          "expression" : {
            "format" : "sql",
            "expression" : "sum(if(has_fm_low_income, 1, 0))"
          },
          "description" : ""
        }, {
          "target" : "no_fm_high_income",
          "expression" : {
            "format" : "sql",
            "expression" : "sum(if(no_fm_high_income, 1, 0))"
          },
          "description" : ""
        }, {
          "target" : "no_fm_low_income",
          "expression" : {
            "format" : "sql",
            "expression" : "sum(if(no_fm_low_income, 1, 0))"
          },
          "description" : ""
        }, {
          "target" : "num_zipcodes",
          "expression" : {
            "format" : "sql",
            "expression" : "count(1)"
          },
          "description" : ""
        }, {
          "target" : "has_fm",
          "expression" : {
            "format" : "sql",
            "expression" : "sum(if(has_fm, 1, 0))"
          },
          "description" : ""
        }, {
          "target" : "no_fm",
          "expression" : {
            "format" : "sql",
            "expression" : "sum(if(!has_fm, 1, 0))"
          },
          "description" : ""
        } ]
      }
    },
    "UYOAW30-drlNFNzQZoFLq$$bEE6I_2R-fJpVvpZrifPm" : {
      "id" : "UYOAW30-drlNFNzQZoFLq$$bEE6I_2R-fJpVvpZrifPm",
      "component" : "Reformat",
      "metadata" : {
        "label" : "CalcIsHighIncome",
        "slug" : "CalcIsHighIncome",
        "x" : 920.0009224045378,
        "y" : 320,
        "language" : "python",
        "phase" : 0,
        "cache" : false,
        "detailedStats" : false,
        "isImported" : false
      },
      "ports" : {
        "inputs" : [ {
          "id" : "RJayMoCenl_ekaVMTlKoO$$yaM7pQA3AQg5NfrWSDTUV",
          "slug" : "in0"
        } ],
        "outputs" : [ {
          "id" : "a6aHEUiPNNWGDwgBHyTis$$beuGcJ8zc3Enl_qYOteKn",
          "slug" : "out"
        } ],
        "selectedInputFields" : [ ],
        "isCustomOutputSchema" : false
      },
      "properties" : {
        "columnsSelector" : [ "RJayMoCenl_ekaVMTlKoO$$yaM7pQA3AQg5NfrWSDTUV##zipcode", "RJayMoCenl_ekaVMTlKoO$$yaM7pQA3AQg5NfrWSDTUV##all_returns", "RJayMoCenl_ekaVMTlKoO$$yaM7pQA3AQg5NfrWSDTUV##low_income_returns", "RJayMoCenl_ekaVMTlKoO$$yaM7pQA3AQg5NfrWSDTUV##high_income_returns" ],
        "expressions" : [ {
          "target" : "high_income_percent",
          "expression" : {
            "format" : "sql",
            "expression" : "100 * high_income_returns / all_returns"
          },
          "description" : ""
        }, {
          "target" : "zipcode",
          "expression" : {
            "format" : "sql",
            "expression" : "zipcode"
          },
          "description" : ""
        }, {
          "target" : "high_income_returns",
          "expression" : {
            "format" : "sql",
            "expression" : "high_income_returns"
          },
          "description" : ""
        }, {
          "target" : "low_income_returns",
          "expression" : {
            "format" : "sql",
            "expression" : "low_income_returns"
          },
          "description" : ""
        }, {
          "target" : "all_returns",
          "expression" : {
            "format" : "sql",
            "expression" : "all_returns"
          },
          "description" : ""
        }, {
          "target" : "is_high_income",
          "expression" : {
            "format" : "sql",
            "expression" : "(high_income_returns / all_returns) > 0.1"
          },
          "description" : ""
        } ]
      }
    },
    "k3nS0ZBEay-SmGyF0RmoE$$AMu4m57ehEbplpVu-PO06" : {
      "id" : "k3nS0ZBEay-SmGyF0RmoE$$AMu4m57ehEbplpVu-PO06",
      "component" : "Reformat",
      "metadata" : {
        "label" : "CalcCases",
        "slug" : "CalcCases",
        "x" : 1520.0002573748438,
        "y" : 220,
        "language" : "python",
        "phase" : 0,
        "cache" : false,
        "detailedStats" : false,
        "isImported" : false
      },
      "ports" : {
        "inputs" : [ {
          "id" : "mX-kp-OS9L2Ff_l7E_AgM$$7gCFz_9paDB1Oe_LiYsU9",
          "slug" : "in0"
        } ],
        "outputs" : [ {
          "id" : "vO-kuDr8MAOc8IzDz-5qz$$9noHND5LaYS6NOjlWjjMo",
          "slug" : "out"
        } ],
        "selectedInputFields" : [ ],
        "isCustomOutputSchema" : false
      },
      "properties" : {
        "columnsSelector" : [ "mX-kp-OS9L2Ff_l7E_AgM$$7gCFz_9paDB1Oe_LiYsU9##zipcode", "mX-kp-OS9L2Ff_l7E_AgM$$7gCFz_9paDB1Oe_LiYsU9##is_high_income", "mX-kp-OS9L2Ff_l7E_AgM$$7gCFz_9paDB1Oe_LiYsU9##num_farmers_markets", "mX-kp-OS9L2Ff_l7E_AgM$$7gCFz_9paDB1Oe_LiYsU9##all_returns", "mX-kp-OS9L2Ff_l7E_AgM$$7gCFz_9paDB1Oe_LiYsU9##high_income_returns", "mX-kp-OS9L2Ff_l7E_AgM$$7gCFz_9paDB1Oe_LiYsU9##has_fm", "mX-kp-OS9L2Ff_l7E_AgM$$7gCFz_9paDB1Oe_LiYsU9##zip", "mX-kp-OS9L2Ff_l7E_AgM$$7gCFz_9paDB1Oe_LiYsU9##low_income_returns", "mX-kp-OS9L2Ff_l7E_AgM$$7gCFz_9paDB1Oe_LiYsU9##high_income_percent" ],
        "expressions" : [ {
          "target" : "has_fm_high_income",
          "expression" : {
            "format" : "sql",
            "expression" : "has_fm and is_high_income"
          },
          "description" : ""
        }, {
          "target" : "has_fm_low_income",
          "expression" : {
            "format" : "sql",
            "expression" : "has_fm and !is_high_income"
          },
          "description" : ""
        }, {
          "target" : "no_fm_high_income",
          "expression" : {
            "format" : "sql",
            "expression" : "!has_fm and is_high_income"
          },
          "description" : ""
        }, {
          "target" : "no_fm_low_income",
          "expression" : {
            "format" : "sql",
            "expression" : "!has_fm and !is_high_income"
          },
          "description" : ""
        }, {
          "target" : "zip",
          "expression" : {
            "format" : "sql",
            "expression" : "zip"
          },
          "description" : ""
        }, {
          "target" : "num_farmers_markets",
          "expression" : {
            "format" : "sql",
            "expression" : "num_farmers_markets"
          },
          "description" : ""
        }, {
          "target" : "high_income_percent",
          "expression" : {
            "format" : "sql",
            "expression" : "high_income_percent"
          },
          "description" : ""
        }, {
          "target" : "zipcode",
          "expression" : {
            "format" : "sql",
            "expression" : "zipcode"
          },
          "description" : ""
        }, {
          "target" : "high_income_returns",
          "expression" : {
            "format" : "sql",
            "expression" : "high_income_returns"
          },
          "description" : ""
        }, {
          "target" : "low_income_returns",
          "expression" : {
            "format" : "sql",
            "expression" : "low_income_returns"
          },
          "description" : ""
        }, {
          "target" : "all_returns",
          "expression" : {
            "format" : "sql",
            "expression" : "all_returns"
          },
          "description" : ""
        }, {
          "target" : "is_high_income",
          "expression" : {
            "format" : "sql",
            "expression" : "is_high_income"
          },
          "description" : ""
        }, {
          "target" : "has_fm",
          "expression" : {
            "format" : "sql",
            "expression" : "has_fm"
          },
          "description" : ""
        } ]
      }
    },
    "_GiFXBzO_NnB4iIsyRM0T$$V8hemfRGNZuQVK4vHELdK" : {
      "id" : "_GiFXBzO_NnB4iIsyRM0T$$V8hemfRGNZuQVK4vHELdK",
      "component" : "Source",
      "metadata" : {
        "label" : "IrsZipcodesSource",
        "slug" : "IrsZipcodesSource",
        "x" : 120.0004795018707,
        "y" : 320,
        "language" : "python",
        "phase" : 0,
        "cache" : false,
        "detailedStats" : false,
        "isImported" : false
      },
      "ports" : {
        "inputs" : [ ],
        "outputs" : [ {
          "id" : "ASJRyxNpCf6bMQdv5RZh1$$s58ROYh4qPn1zeTNghc6q",
          "slug" : "out"
        } ],
        "selectedInputFields" : [ ],
        "isCustomOutputSchema" : false
      },
      "properties" : {
        "datasetId" : "datasets/irs-zipcode-data"
      }
    },
    "YOshD4mtpOAEVKQ_5aUM9$$gviJQ8S1mAPMeu6b1Z6it" : {
      "id" : "YOshD4mtpOAEVKQ_5aUM9$$gviJQ8S1mAPMeu6b1Z6it",
      "component" : "Reformat",
      "metadata" : {
        "label" : "CalcPercents",
        "slug" : "CalcPercents",
        "x" : 1920.0002903339198,
        "y" : 220,
        "language" : "python",
        "phase" : 0,
        "cache" : false,
        "detailedStats" : false,
        "isImported" : false
      },
      "ports" : {
        "inputs" : [ {
          "id" : "hAgHzSxeZVA-6z0nUi2TC$$MAVlPEYPua3sR98BoqRHt",
          "slug" : "in0"
        } ],
        "outputs" : [ {
          "id" : "N9w_9ScxoNdujm8r2h8tN$$Yg-6apRdEmAFHlJXNitZR",
          "slug" : "out"
        } ],
        "selectedInputFields" : [ ],
        "isCustomOutputSchema" : false
      },
      "properties" : {
        "columnsSelector" : [ "hAgHzSxeZVA-6z0nUi2TC$$MAVlPEYPua3sR98BoqRHt##no_fm_high_income", "hAgHzSxeZVA-6z0nUi2TC$$MAVlPEYPua3sR98BoqRHt##no_fm", "hAgHzSxeZVA-6z0nUi2TC$$MAVlPEYPua3sR98BoqRHt##has_fm_low_income", "hAgHzSxeZVA-6z0nUi2TC$$MAVlPEYPua3sR98BoqRHt##has_fm_high_income", "hAgHzSxeZVA-6z0nUi2TC$$MAVlPEYPua3sR98BoqRHt##no_fm_low_income", "hAgHzSxeZVA-6z0nUi2TC$$MAVlPEYPua3sR98BoqRHt##num_zipcodes", "hAgHzSxeZVA-6z0nUi2TC$$MAVlPEYPua3sR98BoqRHt##has_fm" ],
        "expressions" : [ {
          "target" : "has_fm_high_income_percent",
          "expression" : {
            "format" : "sql",
            "expression" : "100 * has_fm_high_income / (has_fm)"
          },
          "description" : ""
        }, {
          "target" : "no_fm_high_income_percent",
          "expression" : {
            "format" : "sql",
            "expression" : "100 * no_fm_high_income / (no_fm)"
          },
          "description" : ""
        }, {
          "target" : "has_fm_high_income",
          "expression" : {
            "format" : "sql",
            "expression" : "has_fm_high_income"
          },
          "description" : ""
        }, {
          "target" : "has_fm_low_income",
          "expression" : {
            "format" : "sql",
            "expression" : "has_fm_low_income"
          },
          "description" : ""
        }, {
          "target" : "no_fm_high_income",
          "expression" : {
            "format" : "sql",
            "expression" : "no_fm_high_income"
          },
          "description" : ""
        }, {
          "target" : "no_fm_low_income",
          "expression" : {
            "format" : "sql",
            "expression" : "no_fm_low_income"
          },
          "description" : ""
        }, {
          "target" : "num_zipcodes",
          "expression" : {
            "format" : "sql",
            "expression" : "num_zipcodes"
          },
          "description" : ""
        } ]
      }
    },
    "tIhfAxJQB-pcVv4ldPaJv$$1k8MYOiRHQflvTcwtnu3p" : {
      "id" : "tIhfAxJQB-pcVv4ldPaJv$$1k8MYOiRHQflvTcwtnu3p",
      "component" : "Reformat",
      "metadata" : {
        "label" : "CalcHasFm",
        "slug" : "CalcHasFm",
        "x" : 1320.0007020003115,
        "y" : 220,
        "language" : "python",
        "phase" : 0,
        "cache" : false,
        "detailedStats" : false,
        "isImported" : false
      },
      "ports" : {
        "inputs" : [ {
          "id" : "jqRI526NuVpWsZleJiHVn$$mn9kTTpOdJt61fbtpfd2q",
          "slug" : "in0"
        } ],
        "outputs" : [ {
          "id" : "KCf8jTUDGpXz3xhTFT5MO$$uH0slAcMWZEGabWUCyuHD",
          "slug" : "out"
        } ],
        "selectedInputFields" : [ ],
        "isCustomOutputSchema" : false
      },
      "properties" : {
        "columnsSelector" : [ "jqRI526NuVpWsZleJiHVn$$mn9kTTpOdJt61fbtpfd2q##num_farmers_markets", "jqRI526NuVpWsZleJiHVn$$mn9kTTpOdJt61fbtpfd2q##zipcode", "jqRI526NuVpWsZleJiHVn$$mn9kTTpOdJt61fbtpfd2q##high_income_percent", "jqRI526NuVpWsZleJiHVn$$mn9kTTpOdJt61fbtpfd2q##high_income_returns", "jqRI526NuVpWsZleJiHVn$$mn9kTTpOdJt61fbtpfd2q##zip", "jqRI526NuVpWsZleJiHVn$$mn9kTTpOdJt61fbtpfd2q##is_high_income", "jqRI526NuVpWsZleJiHVn$$mn9kTTpOdJt61fbtpfd2q##all_returns", "jqRI526NuVpWsZleJiHVn$$mn9kTTpOdJt61fbtpfd2q##low_income_returns" ],
        "expressions" : [ {
          "target" : "zip",
          "expression" : {
            "format" : "sql",
            "expression" : "zip"
          },
          "description" : ""
        }, {
          "target" : "num_farmers_markets",
          "expression" : {
            "format" : "sql",
            "expression" : "num_farmers_markets"
          },
          "description" : ""
        }, {
          "target" : "high_income_percent",
          "expression" : {
            "format" : "sql",
            "expression" : "high_income_percent"
          },
          "description" : ""
        }, {
          "target" : "zipcode",
          "expression" : {
            "format" : "sql",
            "expression" : "zipcode"
          },
          "description" : ""
        }, {
          "target" : "high_income_returns",
          "expression" : {
            "format" : "sql",
            "expression" : "high_income_returns"
          },
          "description" : ""
        }, {
          "target" : "low_income_returns",
          "expression" : {
            "format" : "sql",
            "expression" : "low_income_returns"
          },
          "description" : ""
        }, {
          "target" : "all_returns",
          "expression" : {
            "format" : "sql",
            "expression" : "all_returns"
          },
          "description" : ""
        }, {
          "target" : "is_high_income",
          "expression" : {
            "format" : "sql",
            "expression" : "is_high_income"
          },
          "description" : ""
        }, {
          "target" : "has_fm",
          "expression" : {
            "format" : "sql",
            "expression" : "coalesce(num_farmers_markets,0) > 0 "
          },
          "description" : ""
        } ]
      }
    },
    "r0kwOWwgxUBGJlPYvNjKc$$fgT-0yCKnYPehJ6DyA5jk" : {
      "id" : "r0kwOWwgxUBGJlPYvNjKc$$fgT-0yCKnYPehJ6DyA5jk",
      "component" : "Aggregate",
      "metadata" : {
        "label" : "CountFarmersMarketsByZip",
        "slug" : "CountFarmersMarketsByZip",
        "x" : 920.0002590880505,
        "y" : 120,
        "language" : "python",
        "phase" : 0,
        "cache" : false,
        "detailedStats" : false,
        "isImported" : false
      },
      "ports" : {
        "inputs" : [ {
          "id" : "8K8inF5ISNwEezx4nHG3U$$nADsbJ4YvJLMALnd6NTNx",
          "slug" : "in0"
        } ],
        "outputs" : [ {
          "id" : "WJ8djYwlCn_nFO4dchCx6$$OmUQ0T46bPCPes5G9kyH2",
          "slug" : "out"
        } ],
        "selectedInputFields" : [ ],
        "isCustomOutputSchema" : false
      },
      "properties" : {
        "allIns" : false,
        "doPivot" : false,
        "aggregate" : [ {
          "target" : "num_farmers_markets",
          "expression" : {
            "format" : "sql",
            "expression" : "count(1)"
          },
          "description" : "",
          "_row_id" : ""
        } ],
        "pivotColumn" : null,
        "pivotValues" : [ ],
        "activeTab" : "aggregate",
        "columnsSelector" : [ "8K8inF5ISNwEezx4nHG3U$$nADsbJ4YvJLMALnd6NTNx##zip" ],
        "groupBy" : [ {
          "target" : "zip",
          "expression" : {
            "format" : "sql",
            "expression" : "zip"
          },
          "description" : "",
          "_row_id" : null
        } ]
      }
    }
  },
  "ports" : {
    "inputs" : [ ],
    "outputs" : [ ],
    "selectedInputFields" : [ ],
    "isCustomOutputSchema" : false
  }
}